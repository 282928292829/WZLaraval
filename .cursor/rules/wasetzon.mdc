---
description: Wasetzon Laravel rebuild — project context, site labels, paths, stack, AI behavior, and architectural decisions
alwaysApply: true
---

# Wasetzon Project Context

## Site Labels
- **Legacy site** — old WordPress, data source only: `Wordpress/pwa3/old-wordpress/`
- **New WordPress site** — features reference, almost-live but not switching to: `Wordpress/pwa3/app/public/`
- **Laravel site** — the build target: `wasetzonlaraval/` (this project)

## Key Paths
- Legacy DB dump: `/Users/abdul/Desktop/Wasetzon/Wordpress/pwa3/old-wordpress/wasetzonjan302026.sql`
- Legacy uploads: `/Users/abdul/Desktop/Wasetzon/Wordpress/pwa3/old-wordpress/old-wp-content/uploads/`
- Features reference: `/Users/abdul/Desktop/Wasetzon/Wordpress/pwa3/app/public/`
- Full plan: `LARAVEL_PLAN.md` — read this at the start of every session

## Stack
Laravel 12, Breeze, Livewire 3, Alpine.js, Tailwind CSS v4, Filament 4, Spatie Permission, MySQL 8, Redis

## AI Behavior
- Read `LARAVEL_PLAN.md` before making any changes in a new session
- Before building any feature, audit the corresponding source in the new WordPress site to capture all behavior and edge cases
- When blocked or uncertain, ask the owner — never guess or hallucinate a solution
- Do not create new base folders or change dependencies without approval
- Commit after every feature with small, atomic commits

## Bilingual Rule (ALWAYS ENFORCE)
- This site is **100% bilingual — Arabic (default) and English**
- **Never hardcode a user-facing string** in Blade, Livewire, PHP, or Filament — always wrap in `__()`
- This applies to: labels, titles, headings, button text, helper text, placeholder text, flash/notification messages, nav labels, section titles, and page titles
- For Filament Resources/Pages: override `getNavigationLabel()`, `getTitle()`, `getNavigationGroup()` as methods returning `__()` — never set them as hardcoded static properties
- If a translation key is missing from `lang/ar.json` or `lang/en.json`, add it to both files before committing
- **Never ship a string that doesn't pass through `__()`** — treat hardcoded English strings as bugs

## Key Architectural Decisions
- **URLs:** `/orders/{id}` — nginx 301 redirects legacy `/order/(.*)` → `/orders/$1`
- **Translations:** `lang/ar.json` + `lang/en.json` only — no `translations` DB table
- **Orders list:** two Blades — `orders/index.blade.php` (customer), `orders/staff.blade.php` (staff)
- **Order detail:** one shared Blade `orders/show.blade.php` — staff sections gated with `@can`
- **File storage:** Laravel `Storage` facade, local disk, driver set in `.env`
- **Mobile-first:** all customer-facing pages; Filament admin is desktop-first
- **No-scroll forms:** sign-in, sign-up, and each new-order item row must fit on screen without scrolling on mobile — compact layout, submit action always visible without scrolling
- **New-order layout:** Option 1 (responsive) is site default, admin sets via Filament settings
- **Templates:** all rewritten from scratch — no WordPress copy/paste
- **Default menus:** header/footer menus, submenus, login/signup buttons seeded from new WordPress site at Phase 1
